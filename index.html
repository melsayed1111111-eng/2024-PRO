<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="العب لعبة 2048 الأصلية أونلاين. لعبة ذكاء وألغاز ممتعة. تعلم استراتيجيات الفوز في 2048 وحقق أعلى نتيجة الآن مجاناً.">
    <title>لعبة 2048 - تحدي الذكاء | العب أونلاين</title>
    
    <!-- خط تجوال من جوجل -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-body: #faf8ef;
            --bg-game: #bbada0;
            --bg-cell: rgba(238, 228, 218, 0.35);
            --color-text: #776e65;
            --color-white: #f9f6f2;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; padding: 0;
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-body);
            color: var(--color-text);
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }

        /* --- الهيدر والنتائج --- */
        .header {
            width: 100%; max-width: 500px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 10px;
        }

        h1 { font-size: 50px; margin: 0; font-weight: 800; color: #776e65; }

        .scores-box { display: flex; gap: 10px; }
        .score-card {
            background: #bbada0; padding: 5px 15px;
            border-radius: 5px; text-align: center; color: white; min-width: 80px;
        }
        .score-title { font-size: 12px; text-transform: uppercase; color: #eee4da; }
        .score-val { font-size: 20px; font-weight: bold; }

        /* --- أزرار التحكم --- */
        .controls {
            width: 100%; max-width: 500px;
            display: flex; justify-content: space-between;
            padding: 0 10px 20px 10px;
        }
        .btn {
            background: #8f7a66; color: white;
            border: none; padding: 10px 20px;
            border-radius: 5px; font-weight: bold; cursor: pointer;
            font-family: 'Tajawal', sans-serif; font-size: 16px;
        }
        .btn:hover { background: #7f6a56; }
        .btn-restart { background: #e67e22; }

        /* --- منطقة اللعب --- */
        .game-wrapper {
            position: relative;
            background: var(--bg-game);
            border-radius: 10px;
            width: 350px; height: 350px;
            padding: 10px;
            touch-action: none;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 10px; width: 100%; height: 100%;
        }

        .grid-cell {
            background: var(--bg-cell);
            border-radius: 5px; width: 100%; height: 100%;
        }

        .tile-container {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%; padding: 10px;
            pointer-events: none;
        }

        .tile {
            position: absolute;
            width: calc((100% - 50px) / 4);
            height: calc((100% - 50px) / 4);
            border-radius: 5px;
            display: flex; justify-content: center; align-items: center;
            font-weight: bold; font-size: 35px;
            transition: transform 0.15s ease-in-out;
            z-index: 10;
        }

        /* ألوان المربعات */
        .tile-2 { background: #eee4da; color: #776e65; }
        .tile-4 { background: #ede0c8; color: #776e65; }
        .tile-8 { background: #f2b179; color: #f9f6f2; }
        .tile-16 { background: #f59563; color: #f9f6f2; }
        .tile-32 { background: #f67c5f; color: #f9f6f2; }
        .tile-64 { background: #f65e3b; color: #f9f6f2; }
        .tile-128 { background: #edcf72; color: #f9f6f2; font-size: 30px; }
        .tile-256 { background: #edcc61; color: #f9f6f2; font-size: 30px; }
        .tile-512 { background: #edc850; color: #f9f6f2; font-size: 30px; }
        .tile-1024 { background: #edc53f; color: #f9f6f2; font-size: 25px; }
        .tile-2048 { background: #edc22e; color: #f9f6f2; font-size: 25px; box-shadow: 0 0 30px 5px rgba(243, 215, 116, 0.5); }

        /* --- إشعار الخسارة/الفوز --- */
        .game-message {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(238, 228, 218, 0.73);
            display: none; flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 100; border-radius: 10px;
            text-align: center;
        }
        .game-message p { font-size: 40px; font-weight: bold; margin: 0 0 20px 0; }

        /* --- مساحة الإعلان --- */
        .ad-space {
            width: 100%; max-width: 350px;
            min-height: 250px;
            background: #fff; border: 1px solid #eee;
            margin: 20px 0;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden;
        }

        /* --- المحتوى النصي (SEO) --- */
        .content-area {
            width: 90%; max-width: 600px;
            line-height: 1.8; text-align: justify;
            margin-bottom: 50px;
            background: #fff; padding: 20px;
            border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .content-area h2 { border-bottom: 2px solid #bbada0; padding-bottom: 10px; color: #555; font-size: 22px; }
        .content-area p, .content-area li { font-size: 16px; color: #666; }
        
        footer {
            margin-top: auto; padding: 20px; width: 100%;
            background: #333; color: white; text-align: center; font-size: 14px;
        }
        footer a { color: #f2b179; text-decoration: none; margin: 0 10px; }

        /* --- التجاوب مع الموبايل --- */
        @media screen and (max-width: 500px) {
            .header, .controls { width: 90%; }
            h1 { font-size: 40px; }
            .game-wrapper {
                width: 300px; height: 300px;
            }
            .tile {
                width: calc((300px - 50px) / 4);
                height: calc((300px - 50px) / 4);
                font-size: 24px;
            }
            .ad-space { width: 300px; }
        }
    </style>
</head>
<body>

    <!-- الهيدر -->
    <div class="header">
        <h1>2048</h1>
        <div class="scores-box">
            <div class="score-card">
                <div class="score-title">النتيجة</div>
                <div class="score-val" id="score">0</div>
            </div>
            <div class="score-card">
                <div class="score-title">الأفضل</div>
                <div class="score-val" id="bestScore">0</div>
            </div>
        </div>
    </div>

    <!-- التحكم -->
    <div class="controls">
        <p style="margin:0; font-size:14px; align-self: center;">ادمج الأرقام لتصل لـ <strong>2048!</strong></p>
        <button class="btn btn-restart" onclick="game.restart()">لعبة جديدة</button>
    </div>

    <!-- اللعبة -->
    <div class="game-wrapper" id="gameArea">
        <div class="game-message" id="gameMessage">
            <p id="messageText">انتهت اللعبة!</p>
            <button class="btn btn-restart" onclick="game.restart()">حاول مرة أخرى</button>
        </div>

        <div class="grid-container">
            <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
            <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
            <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
            <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
        </div>

        <div class="tile-container" id="tileContainer"></div>
    </div>

    <!-- مكان الإعلان (جاهز برقم الناشر الخاص بك) -->
    <div class="ad-space">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6359877001554870"
             crossorigin="anonymous"></script>
        <!-- إعلان متجاوب -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-6359877001554870"
             data-ad-slot="9537043857"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <!-- المحتوى النصي المهم للقبول -->
    <div class="content-area">
        <h2>عن لعبة 2048</h2>
        <p>لعبة 2048 هي واحدة من أشهر ألعاب الألغاز الرقمية التي تجمع بين المتعة وتنمية مهارات التفكير. هدفك في اللعبة هو دمج المربعات التي تحمل نفس الرقم لتكوين أرقام أكبر، بدءاً من 2 و 4 وصولاً إلى الرقم السحري 2048.</p>

        <h2>كيف تلعب؟</h2>
        <ul>
            <li>اسحب الشاشة (للموبايل) أو استخدم الأسهم (للكمبيوتر) لتحريك جميع المربعات في اتجاه واحد.</li>
            <li>عندما يلتقي مربعان يحملان نفس الرقم، يندمجان في مربع واحد بمجموع الرقمين (مثلاً 4+4=8).</li>
            <li>خطط لتحركاتك بعناية حتى لا تمتلئ الشبكة وتخسر اللعبة.</li>
        </ul>

        <h2>نصائح للفوز</h2>
        <p>حاول دائماً الاحتفاظ بالمربع ذي القيمة الأكبر في إحدى الزوايا السفلية. لا تحركه من مكانه إلا للضرورة القصوى، وقم ببناء تسلسل الأرقام حوله.</p>
    </div>

    <footer>
        <p>&copy; 2025 جميع الحقوق محفوظة.</p>
        <p>
            <a href="#">سياسة الخصوصية</a> | 
            <a href="#">اتصل بنا</a>
        </p>
    </footer>

    <script>
        class Game2048 {
            constructor() {
                this.grid = Array(4).fill().map(() => Array(4).fill(0));
                this.score = 0;
                this.bestScore = localStorage.getItem('bestScore') || 0;
                this.tileContainer = document.getElementById('tileContainer');
                this.scoreDisplay = document.getElementById('score');
                this.bestScoreDisplay = document.getElementById('bestScore');
                this.msgContainer = document.getElementById('gameMessage');
                this.msgText = document.getElementById('messageText');
                
                this.init();
                this.setupInput();
            }

            init() {
                this.grid = Array(4).fill().map(() => Array(4).fill(0));
                this.score = 0;
                this.updateScore();
                this.clearTiles();
                this.addRandomTile();
                this.addRandomTile();
                this.drawTiles();
                this.msgContainer.style.display = 'none';
            }

            restart() {
                this.init();
            }

            addRandomTile() {
                let emptyCells = [];
                for (let r = 0; r < 4; r++) {
                    for (let c = 0; c < 4; c++) {
                        if (this.grid[r][c] === 0) emptyCells.push({r, c});
                    }
                }
                if (emptyCells.length > 0) {
                    let {r, c} = emptyCells[Math.floor(Math.random() * emptyCells.length)];
                    this.grid[r][c] = Math.random() < 0.9 ? 2 : 4;
                }
            }

            clearTiles() {
                this.tileContainer.innerHTML = '';
            }

            drawTiles() {
                this.clearTiles();
                const containerSize = document.querySelector('.game-wrapper').clientWidth;
                const gap = 10;
                const tileSize = (containerSize - 50) / 4; 

                for (let r = 0; r < 4; r++) {
                    for (let c = 0; c < 4; c++) {
                        if (this.grid[r][c] !== 0) {
                            let tile = document.createElement('div');
                            tile.classList.add('tile', `tile-${this.grid[r][c]}`);
                            tile.innerText = this.grid[r][c];
                            
                            let left = 10 + c * (tileSize + gap);
                            let top = 10 + r * (tileSize + gap);

                            tile.style.width = `${tileSize}px`;
                            tile.style.height = `${tileSize}px`;
                            tile.style.transform = `translate(${left}px, ${top}px)`;
                            
                            this.tileContainer.appendChild(tile);
                        }
                    }
                }
            }

            slide(row) {
                let arr = row.filter(val => val);
                let missing = 4 - arr.length;
                let zeros = Array(missing).fill(0);
                return arr.concat(zeros);
            }

            combine(row) {
                for (let i = 0; i < 3; i++) {
                    if (row[i] !== 0 && row[i] === row[i + 1]) {
                        row[i] *= 2;
                        row[i + 1] = 0;
                        this.score += row[i];
                    }
                }
                return row;
            }

            move(direction) {
                let oldGrid = JSON.stringify(this.grid);
                let flipped = false;
                let rotated = false;

                if (direction === 'ArrowLeft') {
                    // Normal
                } else if (direction === 'ArrowRight') {
                    this.grid = this.grid.map(row => row.reverse());
                    flipped = true;
                } else if (direction === 'ArrowUp') {
                    this.grid = this.transpose(this.grid);
                    rotated = true;
                } else if (direction === 'ArrowDown') {
                    this.grid = this.transpose(this.grid);
                    this.grid = this.grid.map(row => row.reverse());
                    rotated = true;
                    flipped = true;
                }

                for (let r = 0; r < 4; r++) {
                    this.grid[r] = this.slide(this.grid[r]);
                    this.grid[r] = this.combine(this.grid[r]);
                    this.grid[r] = this.slide(this.grid[r]);
                }

                if (flipped) this.grid = this.grid.map(row => row.reverse());
                if (rotated) this.grid = this.transpose(this.grid);

                if (oldGrid !== JSON.stringify(this.grid)) {
                    this.addRandomTile();
                    this.updateScore();
                    this.drawTiles();
                    this.checkStatus();
                }
            }

            transpose(matrix) {
                return matrix[0].map((col, i) => matrix.map(row => row[i]));
            }

            checkStatus() {
                let movesAvailable = false;
                 for (let r = 0; r < 4; r++) {
                    for (let c = 0; c < 4; c++) {
                        if(this.grid[r][c] === 0) movesAvailable = true;
                        if(c < 3 && this.grid[r][c] === this.grid[r][c+1]) movesAvailable = true;
                        if(r < 3 && this.grid[r][c] === this.grid[r+1][c]) movesAvailable = true;
                    }
                }

                if (!movesAvailable) {
                    this.msgText.innerText = "انتهت اللعبة!";
                    this.msgContainer.style.display = 'flex';
                }
            }

            updateScore() {
                this.scoreDisplay.innerText = this.score;
                if (this.score > this.bestScore) {
                    this.bestScore = this.score;
                    localStorage.setItem('bestScore', this.bestScore);
                }
                this.bestScoreDisplay.innerText = this.bestScore;
            }

            setupInput() {
                document.addEventListener('keydown', (e) => {
                    if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)) {
                        e.preventDefault();
                        this.move(e.key);
                    }
                });

                let touchStartX = 0;
                let touchStartY = 0;
                const gameArea = document.getElementById('gameArea');

                gameArea.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                    touchStartY = e.changedTouches[0].screenY;
                }, {passive: false});

                gameArea.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    let touchEndX = e.changedTouches[0].screenX;
                    let touchEndY = e.changedTouches[0].screenY;
                    let dx = touchEndX - touchStartX;
                    let dy = touchEndY - touchStartY;

                    if(Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 30) {
                        if(dx > 0) this.move('ArrowRight');
                        else this.move('ArrowLeft');
                    } else if(Math.abs(dy) > Math.abs(dx) && Math.abs(dy) > 30) {
                        if(dy > 0) this.move('ArrowDown');
                        else this.move('ArrowUp');
                    }
                }, {passive: false});
            }
        }
        const game = new Game2048();
    </script>
</body>
</html>
            <div class="store-item" onclick="simulatePurchase('undo_pack')">
                <div><strong>50 تراجع إضافي</strong><br><small>صحح أخطاءك واستمر!</small></div>
                <span class="price-tag">100 ج.م</span>
            </div>
            <div class="store-item" onclick="simulatePurchase('no_ads')">
                <div><strong>إزالة الإعلانات</strong><br><small>اشتراك شهري</small></div>
                <span class="price-tag">50 ج.م /شهر</span>
            </div>
            <div class="store-item" onclick="simulatePurchase('theme_pack')">
                <div><strong>ألوان ثيمات جديدة</strong><br><small>غير شكل اللعبة</small></div>
                <span class="price-tag"> 150 ج.م </span>
            </div>
            <button class="btn close-modal" onclick="closeStore()">إغلاق</button>
        </div>
    </div>

    <script>
       function _0x51ec(){const _0x5c2a81=['none','ArrowUp','touchstart','random','changedTouches','reverse','querySelectorAll','touchend','5bqmgkP','best-score','addEventListener','display','undefined','right','classList','1945422fgkPRG','434616hyeTzG','tile','keydown','store-modal','floor','abs','246870gHDcBC','stringify','warn','getItem','getElementById','innerText','AIzaSyA03XF-ijDTp1C3jOcmo2ajZL4RvUlcZd0','length','clientWidth','top','ArrowRight','appendChild','.tile','لا\x20يوجد\x20حركة\x20سابقة!','1:805484875796:web:3f5390ad337f7f9c575701','2048-best','6911739JTcXmH','flex','805484875796','initializeApp','forEach','undo-display','concat','1348456jHuQqP','6yRxwRb','add','screenY','filter','div','fill','style','608jNnfcr','width','key','down','undo_pack','https://gams-dca3f-default-rtdb.firebaseio.com','ArrowLeft','187TRrsWz','tile-','resize','139134FINXQw','screenX','Firebase\x20skipped','score','left','gams-dca3f','103411DTwxAk','push','تم!','height','G-R03SS18JVS'];_0x51ec=function(){return _0x5c2a81;};return _0x51ec();}const _0x2b7ad5=_0x593d;(function(_0x5f46b4,_0x9ba21d){const _0x208751=_0x593d,_0x484206=_0x5f46b4();while(!![]){try{const _0x28a4d8=parseInt(_0x208751(0x113))/0x1+-parseInt(_0x208751(0x114))/0x2*(parseInt(_0x208751(0x125))/0x3)+parseInt(_0x208751(0x140))/0x4*(-parseInt(_0x208751(0x138))/0x5)+-parseInt(_0x208751(0x13f))/0x6+parseInt(_0x208751(0x12b))/0x7*(parseInt(_0x208751(0x11b))/0x8)+-parseInt(_0x208751(0x10c))/0x9+parseInt(_0x208751(0x146))/0xa*(-parseInt(_0x208751(0x122))/0xb);if(_0x28a4d8===_0x9ba21d)break;else _0x484206['push'](_0x484206['shift']());}catch(_0x3cef3d){_0x484206['push'](_0x484206['shift']());}}}(_0x51ec,0xadb69));const boardSize=0x4;let board=[],score=0x0,bestScore=localStorage[_0x2b7ad5(0x149)](_0x2b7ad5(0x10b))||0x0,undoLimit=0x3,previousState=null;const boardElement=document[_0x2b7ad5(0x14a)]('game-board'),scoreElement=document[_0x2b7ad5(0x14a)](_0x2b7ad5(0x128)),bestScoreElement=document[_0x2b7ad5(0x14a)](_0x2b7ad5(0x139)),undoDisplay=document[_0x2b7ad5(0x14a)](_0x2b7ad5(0x111));bestScoreElement[_0x2b7ad5(0x14b)]=bestScore;function startNewGame(){const _0x2a9e93=_0x2b7ad5;board=Array(boardSize*boardSize)[_0x2a9e93(0x119)](0x0),score=0x0,scoreElement['innerText']=0x0,previousState=null,clearTiles(),addRandomTile(),addRandomTile(),updateBoard(),undoDisplay['innerText']=undoLimit;}function clearTiles(){const _0x12e7ed=_0x2b7ad5,_0x27a44a=document[_0x12e7ed(0x136)](_0x12e7ed(0x152));_0x27a44a[_0x12e7ed(0x110)](_0x578cb5=>_0x578cb5['remove']());}function addRandomTile(){const _0x4b205e=_0x2b7ad5;let _0x3096bc=[];board[_0x4b205e(0x110)]((_0x5b17f3,_0x37c91e)=>{const _0x116fe4=_0x4b205e;if(_0x5b17f3===0x0)_0x3096bc[_0x116fe4(0x12c)](_0x37c91e);});if(_0x3096bc[_0x4b205e(0x14d)]>0x0){let _0x3951a0=_0x3096bc[Math['floor'](Math[_0x4b205e(0x133)]()*_0x3096bc['length'])];board[_0x3951a0]=Math['random']()>0.9?0x4:0x2;}}function updateBoard(){const _0x5074c2=_0x2b7ad5;clearTiles();const _0x5db817=boardElement[_0x5074c2(0x14e)]/0x4;board[_0x5074c2(0x110)]((_0x2adc46,_0x22a44c)=>{const _0x42f6bd=_0x5074c2;if(_0x2adc46>0x0){let _0x164eb7=document['createElement'](_0x42f6bd(0x118));_0x164eb7[_0x42f6bd(0x13e)][_0x42f6bd(0x115)](_0x42f6bd(0x141),_0x42f6bd(0x123)+(_0x2adc46>0x800?0x800:_0x2adc46)),_0x164eb7['innerText']=_0x2adc46;let _0x7c2b1=Math[_0x42f6bd(0x144)](_0x22a44c/0x4),_0x1feea8=_0x22a44c%0x4;_0x164eb7[_0x42f6bd(0x11a)][_0x42f6bd(0x11c)]=_0x5db817-0x14+'px',_0x164eb7[_0x42f6bd(0x11a)][_0x42f6bd(0x12e)]=_0x5db817-0x14+'px',_0x164eb7[_0x42f6bd(0x11a)][_0x42f6bd(0x14f)]=_0x7c2b1*_0x5db817+0x5+'px',_0x164eb7[_0x42f6bd(0x11a)][_0x42f6bd(0x129)]=_0x1feea8*_0x5db817+0x5+'px',boardElement[_0x42f6bd(0x151)](_0x164eb7);}});}function slide(_0x57bfb7){const _0x5c55a4=_0x2b7ad5;let _0x28576c=_0x57bfb7['filter'](_0x4b8d1e=>_0x4b8d1e),_0x445329=boardSize-_0x28576c[_0x5c55a4(0x14d)],_0x4222af=Array(_0x445329)[_0x5c55a4(0x119)](0x0);_0x28576c=_0x28576c[_0x5c55a4(0x112)](_0x4222af);for(let _0x7f4b0e=0x0;_0x7f4b0e<boardSize-0x1;_0x7f4b0e++){_0x28576c[_0x7f4b0e]!==0x0&&_0x28576c[_0x7f4b0e]===_0x28576c[_0x7f4b0e+0x1]&&(_0x28576c[_0x7f4b0e]*=0x2,score+=_0x28576c[_0x7f4b0e],_0x28576c[_0x7f4b0e+0x1]=0x0);}return _0x28576c=_0x28576c[_0x5c55a4(0x117)](_0x5f51f1=>_0x5f51f1),_0x445329=boardSize-_0x28576c[_0x5c55a4(0x14d)],_0x4222af=Array(_0x445329)['fill'](0x0),_0x28576c[_0x5c55a4(0x112)](_0x4222af);}function _0x593d(_0x512ddc,_0x544c49){const _0x51ec78=_0x51ec();return _0x593d=function(_0x593dd2,_0x4d06d5){_0x593dd2=_0x593dd2-0x10b;let _0x350e50=_0x51ec78[_0x593dd2];return _0x350e50;},_0x593d(_0x512ddc,_0x544c49);}function move(_0x19af5a){const _0x30f4b1=_0x2b7ad5;let _0x46573c=[...board],_0x1a185e=score;if(_0x19af5a===_0x30f4b1(0x129)||_0x19af5a===_0x30f4b1(0x13d))for(let _0xfef76b=0x0;_0xfef76b<boardSize;_0xfef76b++){let _0x153275=[];for(let _0x72abc=0x0;_0x72abc<boardSize;_0x72abc++)_0x153275[_0x30f4b1(0x12c)](board[_0xfef76b*0x4+_0x72abc]);let _0x411b17=_0x19af5a===_0x30f4b1(0x13d)?slide(_0x153275[_0x30f4b1(0x135)]())['reverse']():slide(_0x153275);for(let _0x585e21=0x0;_0x585e21<boardSize;_0x585e21++)board[_0xfef76b*0x4+_0x585e21]=_0x411b17[_0x585e21];}else{if(_0x19af5a==='up'||_0x19af5a===_0x30f4b1(0x11e))for(let _0x2ecebf=0x0;_0x2ecebf<boardSize;_0x2ecebf++){let _0x2123b7=[];for(let _0x4315c1=0x0;_0x4315c1<boardSize;_0x4315c1++)_0x2123b7[_0x30f4b1(0x12c)](board[_0x4315c1*0x4+_0x2ecebf]);let _0x1f9df0=_0x19af5a===_0x30f4b1(0x11e)?slide(_0x2123b7[_0x30f4b1(0x135)]())['reverse']():slide(_0x2123b7);for(let _0x24abc2=0x0;_0x24abc2<boardSize;_0x24abc2++)board[_0x24abc2*0x4+_0x2ecebf]=_0x1f9df0[_0x24abc2];}}JSON[_0x30f4b1(0x147)](_0x46573c)!==JSON['stringify'](board)&&(saveState(_0x46573c,_0x1a185e),addRandomTile(),scoreElement['innerText']=score,score>bestScore&&(bestScore=score,localStorage['setItem'](_0x30f4b1(0x10b),bestScore),bestScoreElement[_0x30f4b1(0x14b)]=bestScore),updateBoard());}document[_0x2b7ad5(0x13a)](_0x2b7ad5(0x142),_0x535426=>{const _0x4a3711=_0x2b7ad5;if(_0x535426[_0x4a3711(0x11d)]===_0x4a3711(0x150))move(_0x4a3711(0x13d));if(_0x535426[_0x4a3711(0x11d)]===_0x4a3711(0x121))move(_0x4a3711(0x129));if(_0x535426[_0x4a3711(0x11d)]===_0x4a3711(0x131))move('up');if(_0x535426[_0x4a3711(0x11d)]==='ArrowDown')move(_0x4a3711(0x11e));});let touchStartX=0x0,touchStartY=0x0;boardElement['addEventListener'](_0x2b7ad5(0x132),_0x5dfb12=>{const _0x508f15=_0x2b7ad5;touchStartX=_0x5dfb12[_0x508f15(0x134)][0x0]['screenX'],touchStartY=_0x5dfb12[_0x508f15(0x134)][0x0][_0x508f15(0x116)];},{'passive':![]}),boardElement[_0x2b7ad5(0x13a)](_0x2b7ad5(0x137),_0x1aae46=>{const _0x54d305=_0x2b7ad5;_0x1aae46['preventDefault']();let _0x3a9119=_0x1aae46[_0x54d305(0x134)][0x0][_0x54d305(0x126)]-touchStartX,_0x3b6bcc=_0x1aae46[_0x54d305(0x134)][0x0][_0x54d305(0x116)]-touchStartY;if(Math[_0x54d305(0x145)](_0x3a9119)>Math['abs'](_0x3b6bcc)){if(Math[_0x54d305(0x145)](_0x3a9119)>0xa)_0x3a9119>0x0?move('right'):move(_0x54d305(0x129));}else{if(Math[_0x54d305(0x145)](_0x3b6bcc)>0xa)_0x3b6bcc>0x0?move(_0x54d305(0x11e)):move('up');}},{'passive':![]});function saveState(_0x1641e5,_0x1a04c7){previousState={'board':[..._0x1641e5],'score':_0x1a04c7};}function undoMove(){const _0x2eb05c=_0x2b7ad5;undoLimit>0x0?previousState?(board=previousState['board'],score=previousState[_0x2eb05c(0x128)],scoreElement[_0x2eb05c(0x14b)]=score,updateBoard(),previousState=null,undoLimit--,undoDisplay[_0x2eb05c(0x14b)]=undoLimit):alert(_0x2eb05c(0x153)):openStore();}function openStore(){const _0x179bc=_0x2b7ad5;document['getElementById']('store-modal')['style'][_0x179bc(0x13b)]=_0x179bc(0x10d);}function closeStore(){const _0xaf19df=_0x2b7ad5;document['getElementById'](_0xaf19df(0x143))['style'][_0xaf19df(0x13b)]=_0xaf19df(0x130);}function simulatePurchase(_0x3157e3){alert('جاري\x20الاتصال...'),setTimeout(()=>{const _0x51ee48=_0x593d;alert(_0x51ee48(0x12d)),_0x3157e3===_0x51ee48(0x11f)&&(undoLimit+=0x32,undoDisplay[_0x51ee48(0x14b)]=undoLimit),closeStore();},0x1f4);}startNewGame(),window[_0x2b7ad5(0x13a)](_0x2b7ad5(0x124),updateBoard);const firebaseConfig={'apiKey':_0x2b7ad5(0x14c),'authDomain':'gams-dca3f.firebaseapp.com','databaseURL':_0x2b7ad5(0x120),'projectId':_0x2b7ad5(0x12a),'storageBucket':'gams-dca3f.firebasestorage.app','messagingSenderId':_0x2b7ad5(0x10e),'appId':_0x2b7ad5(0x154),'measurementId':_0x2b7ad5(0x12f)};try{if(typeof firebase!==_0x2b7ad5(0x13c))firebase[_0x2b7ad5(0x10f)](firebaseConfig);}catch(_0x174d16){console[_0x2b7ad5(0x148)](_0x2b7ad5(0x127));}
    </script>
</body>
</html>



